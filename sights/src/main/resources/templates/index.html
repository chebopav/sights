<!DOCTYPE html>
<html th:replace="~{base :: layout(~{::title}, ~{::section}, ~{::script})}" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Главная</title>
    <link rel="stylesheet" href="css/style.css" th:src="@{/css/style.css}">
</head>
<body>
<section>
    <div class="container m-top">
        <h1>Список мест для путешевствий:</h1>
        <div th:if="not ${countries.empty}" >
            <form method="get" th:action="@{/list}" th:object="${museum}">
                <div class="form-group row">
                    <label for="country" class="col-lg-2 col-form-label">Страна: </label>
                    <select id="country" class="col-lg-10" name="countryId" onchange="checkParams()" >
                        <option disabled selected value>Выберите страну</option>
                        <option th:each="country : ${countries}"
                                th:value="${country.id}"
                                th:utext="${country.name}">
                        </option>
                    </select>
                </div>
                <div class="form-group row">
                    <label for="city" class="col-lg-2 col-form-label">Город: </label>
                    <select id="city" class="col-lg-10" name="cityId" onchange="checkParams()" >

                    </select>
                </div>
                <div class="form-group row">
                    <label for="place" class="col-lg-2 col-form-label">Категория: </label>
                    <select id="place" class="col-lg-10" name="placeId" onchange="checkParams()" >
                        <option value="museum">Музеи</option>
                        <option value="theater">Театры</option>
                        <option value="sight">Достопримечательности</option>
                        <option value="excursion">Экскурсии</option>
                    </select>
                </div>
                <div id="button"><input id="submit" type="submit" value="Найти места"></div>
            </form>
        </div>
    </div>
    <script>
    function checkParams() {
    var country = $('#country').val();
    var city = $('#city').val();
    var place = $('#place').val();

    if(country.length != 0 && city.length != 0 && place.length != 0) {
    $('#submit').removeAttr('disabled');
    } else {
    $('#submit').attr('disabled', 'disabled');
    }
    }
    </script>
</section>
<script src="/js/city.js" th:src="@{/js/city.js}"></script>
</body>
</html>